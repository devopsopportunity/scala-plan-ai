@main("Log Corrente") {
    <!-- Header Section -->
    <head>
        <link rel="stylesheet" href="@routes.Assets.versioned("/stylesheets/activity/base.css")">
        <link rel="stylesheet" href="@routes.Assets.versioned("/stylesheets/activity/popup.css")">
        <link rel="stylesheet" href="@routes.Assets.versioned("/stylesheets/activity/quick-options.css")">
        <link rel="stylesheet" href="@routes.Assets.versioned("/stylesheets/activity/drag-drop.css")">
    </head>
    <p><a href="@routes.HomeController.menu()">Menu</a></p>
    <h1>Log Corrente</h1>
    <p>Qui ci saranno le attività correnti del giorno: @java.time.LocalDate.now()</p>

    <!-- Controls Section -->
    <div class="controls">
        <button id="openPopup">Aggiungi attività</button>
        <button id="sortTime">⏰ Ordina per Tempo</button>
        <button id="distribute16h">🌞 Distribuisci su 16h attive</button>
        <button id="distribute15min">⏱️ Blocchi da 15 minuti</button>
        <button id="save">💾 Salva</button>  
        <button id="saveActivitiesCurrent">💾 Save Activities</button>
    </div>

    <!-- Activity List Section -->
    <ul id="activityList">
        <li class="list-item" draggable="true" id="item-1">
            <span class="timestamp">09:30</span>
            <span class="emoji">💻</span>
            <span class="activity-text">Completare il progetto</span>
            <span class='duration'>120</span>
            <span class='priority'>🟨</span>
            <span class='flag'>🚩</span>
        </li>
    </ul>
    
    <!-- Popup Modal -->
    <div id="myPopup" class="popup">
        <div class="popup-content">
            <span class="close">&times;</span>
            <h2>Aggiungi una nuova attività</h2>

            <!-- Quick Options -->
            <h3>Scegli un'attività</h3>
            <div class="quick-options">
                <button class="quick-option" data-emoji="💻">💻 Lavorare</button>
                <button class="quick-option" data-emoji="📝">📝 Pianificare</button>
                <button class="quick-option" data-emoji="🍴">🍴 Pranzare</button>
                <button class="quick-option" data-emoji="🏃‍♂️">🏃‍♂️ Camminare</button>
                <button class="quick-option" data-emoji="🌙">🌙 Riflettere</button>
                <button class="quick-option" data-emoji="📚">📚 Leggere</button>
            </div>
            
            <!-- Activity Description -->
            <div class="form-row">
                <div class="form-item">
                    <h4>Descrizione</h4>
                    <input type="text" id="newActivity" placeholder="Descrivi l'attività..." class="input-text">
                </div>
            </div>

            <!-- Priority and Status -->
            <div class="form-row">
                <div class="form-item">
                    <h4>Priorità</h4>
                    <select id="prioritySelector" class="input-select">
                        <option value="low">🟩 Bassa</option>
                        <option value="medium">🟨 Media</option>
                        <option value="high">🟥 Alta</option>
                        <option value="blocked">🟦 Bloccata</option>
                    </select>
                </div>
                <div class="form-item">
                    <h4>Stato</h4>
                    <select id="flagSelector" class="input-select">
                        <option value="🏁">🏁 Completato</option>
                        <option value="🚩">🚩 Alta Priorità</option>
                        <option value="🎌">🎌 Collaborativo</option>
                        <option value="🏴">🏴 Bloccato</option>
                        <option value="🏳">🏳 Pausa</option>
                        <option value="🏴‍☠️">🏴‍☠️ Sperimentale</option>
                    </select>
                </div>
            </div>

            <!-- Time and Duration -->
            <div class="form-row">
                <div class="form-item">
                    <h4>Inizio</h4>
                    <input type="datetime-local" id="startTime" class="input-text">
                </div>
                <div class="form-item">
                    <h4>Durata (minuti)</h4>
                    <input type="number" id="duration" placeholder="30" class="input-text">
                </div>
            </div>

            <!-- Temporal State -->
            <div class="form-row">
                <div class="form-item">
                    <h4>Stato Temporale</h4>
                    <p id="temporalState">🟢 Nel futuro</p>
                </div>
            </div>

            <!-- Add Button -->
            <div class="form-row">
                <button id="addActivity">Aggiungi</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>

    <script src="@routes.Assets.versioned("javascripts/activity/ui-helpers.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/activity/time-management.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/activity/save-manager.js")" type="text/javascript"></script>   
    <script src="@routes.Assets.versioned("javascripts/activity/drag-drop-manager.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/activity/activity-manager.js")" type="text/javascript"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            ActivityCore.init();
        });
    </script>
}
